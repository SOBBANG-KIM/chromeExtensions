# Today Snippet

Chrome 확장 프로그램으로, 자주 사용하는 텍스트 스니펫을 저장하고 빠르게 삽입할 수 있는 도구입니다.

## 주요 기능

### 📝 스니펫 관리
- 자주 사용하는 텍스트를 스니펫으로 저장
- 제목, 태그, 본문으로 구성
- 고정(★) 기능으로 중요 스니펫을 상단에 고정
- 드래그 앤 드롭으로 스니펫 순서 변경
- 사용/비사용 토글 기능

### 🔍 빠른 검색 및 삽입
- 사이드 패널에서 스니펫 관리 및 삽입
- 인페이지 커맨드 팔레트 (Ctrl/Cmd+Shift+K)
- 제목, 태그, 본문으로 실시간 검색
- 키보드 네비게이션 지원 (↑↓ 이동, Enter 삽입)

### 🔄 변수 치환
- **내장 변수**: `{{date}}`, `{{time}}`, `{{datetime}}`, `{{clipboard}}`, `{{selectedText}}`, `{{url}}`, `{{title}}`, `{{hostname}}`
- **사용자 변수**: 직접 정의한 변수를 `{{변수명}}` 형태로 사용
- 변수가 필요한 경우 자동으로 입력 모달 표시
- 실시간 미리보기로 결과 확인

### 🎨 테마 지원
- System / Light / Dark 테마 선택
- 시스템 테마 자동 감지
- 사이드 패널과 인페이지 팔레트 모두 테마 적용

### 📤 가져오기/내보내기
- JSON 형식으로 스니펫 백업 및 복원
- 다른 환경으로 스니펫 이전 가능

### 📊 사용 통계
- 스니펫 사용 횟수 추적
- 최근 사용 시간 기록
- 사용 빈도에 따른 자동 정렬

## 설치 방법

1. Chrome 브라우저에서 `chrome://extensions/` 접속
2. 우측 상단의 "개발자 모드" 활성화
3. "압축해제된 확장 프로그램을 로드합니다" 클릭
4. `today-snippet` 폴더 선택

## 사용 방법

### 기본 사용

#### 사이드 패널에서 삽입
1. 확장 프로그램 아이콘 클릭하여 사이드 패널 열기
2. 페이지에서 입력칸을 한 번 클릭 (포커스)
3. 사이드 패널에서 원하는 스니펫 클릭하여 삽입

#### 커맨드 팔레트로 삽입
1. 페이지에서 입력칸을 한 번 클릭 (포커스)
2. `Ctrl+Shift+K` (Windows/Linux) 또는 `Cmd+Shift+K` (Mac) 누르기
3. 검색창에 키워드 입력하여 스니펫 검색
4. `↑↓` 키로 선택, `Enter`로 삽입

### 스니펫 생성

1. 사이드 패널에서 "+ 새 스니펫" 버튼 클릭
2. 제목, 태그(쉼표로 구분), 본문 입력
3. 필요시 고정(★) 또는 사용/비사용 설정
4. "저장" 버튼 클릭

### 변수 사용

#### 내장 변수 예시
```
안녕하세요 {{name}}님,
{{date}} 기준으로 안내드립니다.
현재 시간: {{time}}
선택한 텍스트: {{selectedText}}
```

#### 사용자 변수 등록
1. "변수 관리" 섹션에서 키와 값 입력
2. "추가" 버튼 클릭
3. 스니펫 본문에서 `{{변수명}}` 형태로 사용

### 스니펫 정렬
- 드래그 앤 드롭으로 순서 변경
- 고정(★)된 스니펫은 항상 상단에 표시
- 사용 빈도에 따라 자동 정렬

### 검색
- 사이드 패널 상단 검색창에 키워드 입력
- 제목, 태그, 본문에서 검색
- 실시간 필터링

## 변수 목록

### 내장 변수
- `{{date}}`: 오늘 날짜 (YYYY-MM-DD)
- `{{time}}`: 현재 시간 (HH:MM)
- `{{datetime}}`: 날짜와 시간 (YYYY-MM-DD HH:MM)
- `{{clipboard}}`: 클립보드 내용
- `{{selectedText}}`: 페이지에서 선택한 텍스트
- `{{url}}`: 현재 페이지 URL
- `{{title}}`: 현재 페이지 제목
- `{{hostname}}`: 현재 페이지 호스트명

### 사용자 변수
- "변수 관리" 섹션에서 등록한 변수
- `{{변수명}}` 형태로 사용
- 영문/숫자/언더스코어 권장 (예: `name`, `phone_number`)

## 키보드 단축키

- `Ctrl+Shift+K` (Windows/Linux) / `Cmd+Shift+K` (Mac): 커맨드 팔레트 열기/닫기
- `↑↓`: 스니펫 목록에서 이동
- `Enter`: 선택한 스니펫 삽입
- `Esc`: 팔레트 닫기
- `Ctrl/Cmd+Enter`: 변수 입력 모달에서 바로 삽입

## 파일 구조

```
today-snippet/
├── manifest.json          # 확장 프로그램 설정
├── sw.js                  # Service Worker
├── sidepanel/             # 사이드 패널 UI
│   ├── sidepanel.html
│   ├── sidepanel.css
│   └── sidepanel.js
├── content/               # 인페이지 스크립트
│   └── content.js         # 커맨드 팔레트 및 삽입 로직
└── assets/                # 아이콘 등 리소스
    ├── icon16.png
    ├── icon48.png
    └── icon128.png
```

## 기술 스택

- **Manifest V3**: 최신 Chrome 확장 프로그램 API
- **Vanilla JavaScript**: 프레임워크 없이 순수 JavaScript 사용
- **Shadow DOM**: 인페이지 팔레트 격리
- **Chrome APIs**:
  - `chrome.sidePanel`: 사이드 패널
  - `chrome.storage`: 스니펫 및 설정 저장
  - `chrome.scripting`: 콘텐츠 스크립트 주입
  - `chrome.commands`: 키보드 단축키
  - `chrome.tabs`: 탭 정보 접근

## 권한

- `activeTab`: 현재 활성 탭에 접근
- `scripting`: 콘텐츠 스크립트 주입
- `sidePanel`: 사이드 패널 사용
- `storage`: 스니펫 및 설정 저장
- `tabs`: 탭 정보 접근

## 지원하는 입력 필드

- 일반 `<input>` 필드 (text, search, email, url, tel, password)
- `<textarea>` 필드
- `contenteditable` 요소 (리치 텍스트 에디터)

## 버전

- **현재 버전**: 0.3.0

## 라이선스

이 프로젝트는 학습 목적으로 제작되었습니다.
